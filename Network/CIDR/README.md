# CIDR
**Classless Inter-Domain Routing**

이름에서 보이듯이 클래스로만 구분된 네트워크의 한계를 극복하기 위한 수단으로 개발되었다.

기존의 클래스만을 이용하면 서브넷 마스크는 8자리 단위로만 끊기게 되어 낭비되는 것이 많다.

CIDR을 이용하면 네트워크 ID로 사용하는 범위를 자유롭게 표기할 수 있게 되어 네트워크를 조금 더 세부적인 단위로 쪼갤 수 있다.

서브넷과 CIDR는 결국 네트워크를 자른다는 의미로 같은 것으로 볼 수 있고, 다만 CIDR는 특수한 표기법을 따른다.

위에서 보았던 클래스 C의 ip 주소와 서브넷 마스크를 다시 살펴보자.

```
192.168.0.1 (주소)255.255.255.0 (서브넷 마스크)
```

이런 서브넷 마스크를 갖는 주소는 CIDR로 표기하면 아래처럼 적게 된다.

```
192.168.0.1/24
```

슬래시 뒤에 적힌 숫자는 몇 개까지의 비트가 네트워크 id로서 유효한지를 의미하게 된다.

기존의 클래스로만 구분한다면 뒤에 따라오는 숫자는 8, 16, 24 정도였겠지만 `CIDR`에서는 17, 25 등으로도 표기할 수 있다.

그렇다면 /15 의 경우 호스트 범위가 어떻게 될까?

```
158.167.18.156/15
```

이렇게 생긴 주소가 있다면 다음과 같이 풀어볼 수 있다.

```
10011110.1010011 1.00010010.10011100 (158.167.18.156)
11111111.1111111 0.00000000.00000000 (15)
```

즉 앞의 15개를 제외한 나머지 비트들로 호스트 범위가 결정이 되는 것이다.

즉, 158.167.18.156 이라는 주소가 속해있는 네트워크의 호스트 범위는 다음과 같다.

```
10011110.1010011 0.00000000.00000001 (158.166.0.1)
~
10011110.1010011 1.11111111.11111110 (158.167.255.254)
```

호스트 영역이 모두 0 (158.166.0.0)이거나 1인 (158.167.255.255)가 범위에 속하지 않는 이유는,

전자는 **네트워크 자체의 주소**, 후자는 **브로드캐스트 주소**이기 때문이라고 한다.

참고로, 브로드캐스트 주소란, 해당 네트워크 모든 호스트에게 정보를 전달할 때 사용되는 주소

네트워크의 주소는 가장 앞, 브로드캐스트의 주소는 가장 뒤라고 생각하면 쉽다.

보통 라우터는 (네트워크 주소, 브로드캐스트 주소) 이 둘을 제외한 호스트 범위 중 가장 앞에 것일 가능 성이 높다.

### [참고]

#### Prefix

prefix 표기란 서브넷 마스크 맨 앞의 비트부터 1의 개수를 표기하는 방식을 말한다.

즉, 맨 앞에 비트부터 공통 비트 개수를 표기하는 방식이다.

예를 들어 서브넷 마스크가 255.255.255.0인 경우 맨 앞의 비트부터 1이 24개가 있으므로 /24로 표기한다.
